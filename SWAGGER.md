# üìö Swagger UI - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## üöÄ –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å

1. **–ó–∞–ø—É—Å—Ç–∏ –±—ç–∫–µ–Ω–¥:**
   ```bash
   cd backend
   go run cmd/api/main.go
   ```

2. **–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   http://localhost:3001/swagger
   ```

## üéØ –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å

### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –í—Å–µ API –º–µ—Ç–æ–¥—ã —Ä–∞–∑–±–∏—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–ú–∞–≥–∞–∑–∏–Ω, –ì–∞–ª–µ—Ä–µ—è, –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –ê–¥–º–∏–Ω–∫–∞)
- –í–∏–¥–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ù–∞–∂–º–∏ "Try it out" –Ω–∞ –ª—é–±–æ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–µ
- –ó–∞–ø–æ–ª–Ω–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ù–∞–∂–º–∏ "Execute"
- –£–≤–∏–¥–∏—à—å —Ä–µ–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

### 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Swagger
1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/api/auth/sign-in`:
   ```json
   {
     "email": "admin@socialsh.ru",
     "password": "admin123"
   }
   ```
2. –°–∫–æ–ø–∏—Ä—É–π `access` —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞
3. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **"Authorize"** (üîí) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É Swagger UI
4. –í—Å—Ç–∞–≤—å —Ç–æ–∫–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `Bearer <—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω>`
5. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—à—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (account, admin)

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

**GET /api/products**
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `new=true`, `sale=true`, `page=1`, `limit=20`
- –û—Ç–≤–µ—Ç: —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤

**GET /api/products/{slug}**
- –ü–∞—Ä–∞–º–µ—Ç—Ä: `slug` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `hoodie-black`)
- –û—Ç–≤–µ—Ç: –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä

**GET /api/gallery**
- –ü–∞—Ä–∞–º–µ—Ç—Ä: `category` (intro, tattoo, tokyo)
- –û—Ç–≤–µ—Ç: —ç–ª–µ–º–µ–Ω—Ç—ã –≥–∞–ª–µ—Ä–µ–∏

**GET /api/pages/{slug}**
- –ü–∞—Ä–∞–º–µ—Ç—Ä: `slug` (payment, delivery, returns, contacts)
- –û—Ç–≤–µ—Ç: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**POST /api/auth/sign-in**
```json
{
  "email": "admin@socialsh.ru",
  "password": "admin123"
}
```
–û—Ç–≤–µ—Ç:
```json
{
  "access": "eyJhbGci...",
  "refresh": "eyJhbGci..."
}
```

**GET /api/auth/is-admin**
- –ù—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`
- –û—Ç–≤–µ—Ç: `{"isAdmin": true}`

### –ê–¥–º–∏–Ω–∫–∞ (–Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω + —Ä–æ–ª—å admin)

**GET /api/admin/products**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

**POST /api/admin/products**
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä
```json
{
  "slug": "new-product",
  "title": "–ù–æ–≤—ã–π —Ç–æ–≤–∞—Ä",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "price": 2990,
  "currency": "RUB",
  "images": ["/images/product.jpg"],
  "isNew": true,
  "isOnSale": false
}
```

**PATCH /api/admin/products/{id}**
- –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä

**DELETE /api/admin/products/{id}**
- –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è `/api/admin/gallery` –∏ `/api/admin/pages`

## üîç –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   curl http://localhost:3001/api/products
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:**
   ```bash
   tail -f /tmp/backend.log
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å Swagger JSON:**
   ```bash
   curl http://localhost:3001/docs/swagger.json | jq '.info.title'
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å Swagger UI:**
   ```bash
   curl http://localhost:3001/swagger | grep title
   ```

## üí° –°–æ–≤–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π —Ñ–∏–ª—å—Ç—Ä –≤ Swagger UI (–ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ —Å–≤–µ—Ä—Ö—É) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –≤ Swagger –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Å–µ—Å—Å–∏–∏ Swagger UI
- –î–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–∞ —Ä–æ–ª—å `admin` (–Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)

## üé® –ß—Ç–æ –¥–∞–ª—å—à–µ

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Swagger:
1. –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
3. –ü–æ—Ç–æ–º –ø–æ–¥–∫–ª—é—á–∞–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî –±—É–¥–µ—Ç –ø—Ä–æ—â–µ, —Ç–∞–∫ –∫–∞–∫ API —É–∂–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
