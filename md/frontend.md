## Общая идея фронта

Фронт — это Next.js (App Router) приложение, которое:
- всегда показывает справа постоянный хедер с `SOCIAL SH`, навигацией и раскрывающимися подпунктами;
- слева рендерит конкретную страницу (магазин, галерея, информация, аккаунт);
- в перспективе ходит на Go Fiber API, которое ты сейчас дописываешь.

Все файлы ниже уже существуют — здесь описано, что они делают и какие TODO внутри надо будет реализовать, когда бэк будет готов.

---

## Глобальный лэйаут: `app/layout.tsx` + `app/globals.css`

**Что делает**
- Настраивает глобальные шрифты через `next/font` (`Space Grotesk` + `IBM Plex Mono`).
- Подключает глобальные стили (`globals.css`).
- Оборачивает всё в сетку `.shell`:
  - слева `<main id="main" className="main">` — содержимое текущей страницы;
  - справа `<aside className="sideHeader"> <PageHeader /> </aside>` — наш правый хедер (иконка “SOCIAL SH” + меню).
- Добавляет skip‑link для доступности.

**TODO**
- Когда будешь подключать реальные API:
  - учитывать, что всё приложение живёт в одной сетке — не нужно дублировать хедер/контейнеры по страницам;
  - если где‑то понадобится скролл внутри контента, можно дать блоку внутри `main` `overflow: auto` и фиксированную высоту.

---

## Правый хедер: `components/PageHeader.tsx` + `.module.css`

**Как работает**
- Это клиентский компонент (`'use client'`), который:
  - через `usePathname()` знает, на какой странице ты сейчас находишься;
  - рисует бренд `SOCIAL SH` (кликабельно → возвращает на `/`);
  - отображает основные разделы:
    - `МАГАЗИН`
    - `ГАЛЕРЕЯ`
    - `ИНФОРМАЦИЯ`
    - `ЛИЧНЫЙ КАБИНЕТ` (внизу отдельной строкой)
  - под активным разделом раскрывает подпункты:
    - Магазин: `НОВЫЕ ПОСТУПЛЕНИЯ`, `СЕЗОННЫЕ СКИДКИ`, `СМОТРЕТЬ ВСЕ`;
    - Галерея: текстовые подпункты `ИНТРО`, `ТАТУ`, `ТОКИО` и т.д. (пока без фильтрации);
    - Информация: `ОПЛАТА`, `ДОСТАВКА`, `КОНТАКТЫ`.
- Активный раздел и активный подпункт подсвечиваются жирным (логика в `isActive(pathname, href)`).

**TODO**
- Привязка к API/данным:
  - для галереи — по клику на подпункты (`ИНТРО`, `ТАТУ`, …) можно будет:
    - либо менять `?category=intro` в URL и ререндерить `/gallery`;
    - либо хранить выбранную категорию в searchParams и прокидывать её в fetch в `/gallery/page.tsx`.
- Уточнить финальную типографику (кегль/отступы):
  - когда UI устаканится и подтянешь реальные шрифты/размеры, можно будет чуть‑чуть поправить `gap` и `margin` в `PageHeader.module.css`.

---

## Главная: `app/page.tsx` + `page.module.css`

**Что делает**
- Делит левую часть на:
  - “стену” (`leftWall`) — заглушка под витрину/фото/сетки товаров;
  - колонку быстрых карточек (`cards`) — ссылки на основные разделы:
    - `Новые поступления` → `/shop/new`
    - `Сезонные скидки` → `/shop/sale`
    - `Проекты` (сейчас можно перенацелить или убрать)
    - `Доставка` → `/info/delivery`
- Верстка чисто статическая, без запросов.

**TODO**
- Когда появится API:
  - `leftWall` можно превратить в превью магазина:
    - сделать `fetch('/api/products?new=true&limit=4')` и показать несколько карточек;
  - карточки снизу — можно подтягивать реальные данные (например, количество товаров в новых/скидках).

---

## Магазин: `app/shop/page.tsx`, `app/shop/new/page.tsx`, `app/shop/sale/page.tsx`

**Что делают сейчас**
- `/shop`:
  - заголовок “Смотреть все”;
  - текст‑TODO: “тут будет грид товаров, данные берём из `/api/products` + пагинация”.
- `/shop/new`:
  - текст‑TODO: “фильтр `isNew=true`, эндпоинт `/api/products?new=true`”.
- `/shop/sale`:
  - текст‑TODO: “фильтр `isOnSale=true`, эндпоинт `/api/products?sale=true`”.

**TODO (когда будет бэк)**
- Вынести логику загрузки в отдельный хук/функцию, например:

```ts
async function fetchProducts(params: string) {
  const res = await fetch(`/api/products${params}`, { cache: 'no-store' })
  // TODO: обработать ошибки, распарсить JSON, вернуть массив товаров
}
```

- Реализовать три разных запроса:
  - `/shop` → `fetchProducts('')`;
  - `/shop/new` → `fetchProducts('?new=true')`;
  - `/shop/sale` → `fetchProducts('?sale=true')`.
- Добавить компонент `ProductCard`:
  - поля: картинка, название, цена, бейджи “new”/“sale”;
  - обёртка‑грид на странице.

---

## Галерея: `app/gallery/page.tsx`

**Что делает**
- Рендерит заглушку:
  - заголовок “Смотреть”;
  - список табов (категорий) в виде `span`'ов: `Интро`, `Интро 2`, `ТАТУ`, `Токио`, `Прохор`, `Назар`.
- Пока без запросов и стейта.

**TODO**
- Привязать к эндпоинту `GET /api/gallery?category=intro`:
  - завести состояние `activeCategory` на клиенте;
  - при клике на таб:
    - обновлять `activeCategory`;
    - дёргать `/api/gallery?category=<slug>` (slug можно маппить из названия);
    - отображать грид картинок (ещё один компонент `GalleryGrid`).
- Подумать, нужно ли SSR или достаточно client‑side fetch:
  - если SEO важно для галереи — лучше использовать серверный компонент с `fetch` внутри.

---

## Информация: `app/info/payment|delivery|returns/page.tsx`, `app/contacts/page.tsx`

**Что делают**
- Каждая страница:
  - показывает кикер `информация`;
  - заголовок (`Оплата`, `Доставка`, `Возврат`, `Контакты`);
  - lead‑текст с TODO и ссылкой на ожидаемый эндпоинт (`/api/pages/payment` и т.п.).

**TODO**
- Сделать единый компонент загрузки статической страницы, например:

```tsx
async function InfoPage({ slug, title }: { slug: string; title: string }) {
  const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/pages/${slug}`, { cache: 'no-store' })
  const page = await res.json()
  // page.content можно отрендерить как Markdown/HTML
}
```

- Обернуть конкретные страницы:
  - `/info/payment` → `InfoPage slug="payment" title="Оплата"`;
  - `/info/delivery` → `slug="delivery"`;
  - `/info/returns` → `slug="returns"`;
  - `/contacts` → `slug="contacts"`.

---

## Аккаунт: `app/account/page.tsx`

**Что делает**
- Пишет, что это защищённая страница аккаунта.
- Ставит TODO на эндпоинты:
  - `/api/account/me` — профиль;
  - `/api/account/orders` — заказы.

**TODO**
- Реализовать загрузку данных:
  - пробовать звать `/api/account/me` (с токеном/куки);
  - если 401 → редирект на страницу логина / показать “Войдите в аккаунт”.
- Нарисовать простую структуру:
  - блок “Профиль”;
  - блок “История заказов”.

---

## Что важно помнить, когда будешь дописывать UI

- Сетка `shell` уже задаёт двухколоночный макет: **НЕ** нужно плодить лишние контейнеры с отступами по краям.
- Правый хедер (`PageHeader`) — глобальный; любая страница должна отвечать только за левый контент.
- Все TODO по API уже ссылаются на конкретные роуты, которые ты реализуешь в Fiber:
  - следи, чтобы пути/параметры совпадали (`/api/products`, `?new=true`, `?sale=true`, `pages/:slug` и т.д.).

